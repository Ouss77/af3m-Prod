(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[823],{5798:(e,t,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/JetCommunication/articlesList",function(){return s(9725)}])},9725:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n});var l=s(4848);s(1106);var a=s(6540),r=s(6456),c=s(3981);function n(){let[e,t]=(0,a.useState)([]),[s,n]=(0,a.useState)([]),[o,i]=(0,a.useState)(!0),[d,u]=(0,a.useState)(null),[h,x]=(0,a.useState)(""),[m,g]=(0,a.useState)({}),[f,p]=(0,a.useState)("All"),{language:b}=(0,a.useContext)(r.s);(0,a.useEffect)(()=>{(0,c.qq)(t,n,i)},[]);let w=e=>{g(t=>({...t,[e]:!t[e]}))},N=[...new Set(e.map(e=>e.annee))].sort((e,t)=>t-e);return o?(0,l.jsx)("div",{className:"text-center py-10",children:"Loading..."}):d?(0,l.jsxs)("div",{className:"text-center text-red-600 py-10",children:["Error: ",d]}):(0,l.jsxs)("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-10",children:[(0,l.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold text-center mb-8",children:"Articles"}),(0,l.jsxs)("div",{className:"mb-4 flex items-center",children:[(0,l.jsxs)("select",{value:f,onChange:t=>(0,c.Sp)(t,p,n,e),className:"px-4 py-2 mr-4 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,l.jsx)("option",{value:"All",children:"All Years"}),N.map(e=>(0,l.jsx)("option",{value:e,children:e},e))]}),(0,l.jsx)("input",{type:"text",placeholder:"Search by Title or Author Name",value:h,onChange:t=>(0,c.RX)(t,e,x,n),className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,l.jsx)("a",{href:"/JetCommunication/communications",className:"bg-blue-500 text-white text-center w-40 px-4 py-2 rounded-lg ml-2 hover:bg-green-500",children:"fr"===b?"Voir Articles":"View Articles"})]}),(0,l.jsx)("div",{className:" ",children:s.map((e,t)=>(0,l.jsxs)("div",{className:"bg-white p-4 mb-5  border border-gray-200 rounded-lg shadow-lg hover:shadow-2xl hover:shadow-blue-200 transition duration-300",children:[(0,l.jsxs)("div",{className:"overflow-hidden",children:[(0,l.jsx)("h2",{className:"text-lg font-bold",children:e.titre}),(0,l.jsxs)("p",{className:"text-sm text-gray-600",children:["Authors: ",e.authors]}),(0,l.jsxs)("p",{className:"text-sm text-gray-600",children:["Year: ",e.annee]}),(0,l.jsxs)("p",{className:"text-sm text-gray-600",children:["Theme: ",e.theme]})]}),(0,l.jsxs)("div",{className:"mt-4 flex flex-col sm:flex-row gap-2",children:[(0,l.jsx)("button",{"aria-label":"Show Abstract",onClick:()=>w(t),className:"h-full px-2 text-white bg-blue-500 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-700 hover:bg-blue-600",children:m[t]?"Hide Abstract":"Show Abstract"}),(0,l.jsx)("a",{href:"http://localhost/AF3M-Backend/pdf_files/".concat(e.pdf_files),target:"_blank",rel:"noopener noreferrer",className:"px-2 h-full text-white bg-green-600 rounded-lg focus:outline-none focus:ring-2 hover:bg-green-700 text-center",children:"fr"===b?"T\xe9l\xe9charger":"Download"})]}),m[t]&&(0,l.jsx)("p",{className:"mt-4 text-sm text-gray-700",children:e.resume})]},t))}),0===s.length&&(0,l.jsx)("div",{className:"text-center py-4 text-gray-500",children:"No articles found."})]})}},3981:(e,t,s)=>{"use strict";s.d(t,{RX:()=>l,Sp:()=>a,VB:()=>c,qq:()=>r});let l=(e,t,s,l)=>{let a=e.target.value;s(a),l(t.filter(e=>e.titre.toLowerCase().includes(a.toLowerCase())||e.authors.toLowerCase().includes(a.toLowerCase())))},a=(e,t,s,l)=>{let a=e.target.value;t(a),s("All"===a?l:l.filter(e=>e.annee.toString()===a))},r=async(e,t,s)=>{let l=localStorage.getItem("cachedArticles"),a=localStorage.getItem("cachedTimestamp");if(l&&a&&Date.now()-a<36e5){e(JSON.parse(l)),t(JSON.parse(l)),s(!1);return}try{let s=await fetch("".concat("http://localhost/AF3M-Backend","/getArticles_locally.php"));if(!s.ok)throw Error("Failed to fetch articles");let l=await s.json();e(l),t(l),localStorage.setItem("cachedArticles",JSON.stringify(l)),localStorage.setItem("cachedTimestamp",Date.now())}catch(e){setError(e.message)}finally{s(!1)}},c=(e,t,s,l,a)=>{let r="asc"===t.direction?"desc":"asc";s({key:e,direction:r}),a([...l].sort((t,s)=>t[e]<s[e]?"asc"===r?-1:1:t[e]>s[e]?"asc"===r?1:-1:0))}}},e=>{var t=t=>e(e.s=t);e.O(0,[636,593,792],()=>t(5798)),_N_E=e.O()}]);