(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[419],{4704:(e,t,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin_pages/ajouterActualite",function(){return a(8783)}])},8783:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>i});var l=a(4848),s=a(6715),r=a(6540);function i(){let[e,t]=(0,r.useState)(""),[a,i]=(0,r.useState)(""),[n,d]=(0,r.useState)(""),[u,c]=(0,r.useState)(""),[o,m]=(0,r.useState)(null),[h,p]=(0,r.useState)(""),x=(0,s.useRouter)(),b=async l=>{l.preventDefault();let s=new FormData;s.append("title_fr",e),s.append("description_fr",a),s.append("title_en",n),s.append("description_en",u),o&&s.append("image",o);try{let e=await fetch("".concat("http://localhost/AF3M-Backend","/ajouterActualite.php"),{method:"POST",body:s});if(e.ok)p("Actualit\xe9 added successfully!"),x.push("/admin_pages/modifierActualite"),t(""),i(""),d(""),c(""),m(null);else{let t=await e.json();p(t.message||"An error occurred.")}}catch(e){p("An error occurred while submitting the form.")}};return(0,l.jsx)("div",{className:"lg:max-w-3xl mx-auto w-full lg:ml-56 bg-white rounded-2xl shadow-lg shadow-indigo-400/50",children:(0,l.jsxs)("form",{onSubmit:b,className:"mt-10 p-10 rounded",children:[(0,l.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Ajouter une nouvelle Actualit\xe9"}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("label",{htmlFor:"titleFr",className:"block text-gray-700",children:"Titre (Fran\xe7ais)"}),(0,l.jsx)("input",{type:"text",id:"titleFr",value:e,onChange:e=>t(e.target.value),required:!0,className:"w-full border p-2 rounded mt-2"})]}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("label",{htmlFor:"descriptionFr",className:"block text-gray-700",children:"Description (Fran\xe7ais)"}),(0,l.jsx)("textarea",{id:"descriptionFr",value:a,onChange:e=>i(e.target.value),required:!0,className:"w-full border p-2 rounded mt-2"})]}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("label",{htmlFor:"titleEn",className:"block text-gray-700",children:"Title (English)"}),(0,l.jsx)("input",{type:"text",id:"titleEn",value:n,onChange:e=>d(e.target.value),required:!0,className:"w-full border p-2 rounded mt-2"})]}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("label",{htmlFor:"descriptionEn",className:"block text-gray-700",children:"Description (English)"}),(0,l.jsx)("textarea",{id:"descriptionEn",value:u,onChange:e=>c(e.target.value),required:!0,className:"w-full border p-2 rounded mt-2"})]}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("label",{htmlFor:"image",className:"block text-gray-700",children:"Image (optional)"}),(0,l.jsx)("input",{type:"file",id:"image",onChange:e=>m(e.target.files[0]),className:"w-full border p-2 rounded mt-2"})]}),(0,l.jsx)("button",{"aria-label":"Submit",type:"submit",className:"w-full bg-blue-600 text-white py-2 rounded-md hover:bg-blue-700 transition duration-200",children:"Add Actualit\xe9"}),h&&(0,l.jsx)("p",{className:"mt-4 text-green-600",children:h})]})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[636,593,792],()=>t(4704)),_N_E=e.O()}]);