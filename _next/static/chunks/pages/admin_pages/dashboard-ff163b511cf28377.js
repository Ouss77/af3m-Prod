(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[425],{3830:(t,e,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin_pages/dashboard",function(){return s(969)}])},969:(t,e,s)=>{"use strict";s.r(e),s.d(e,{default:()=>u});var a=s(4848),n=s(6540),c=s(4731),l=s(6118);l.t1.register(l.hE,l.m_,l.s$,l.PP,l.kc,l.No,l.FN,l.dN,l.E8);let r=()=>{let[t,e]=(0,n.useState)({}),[s,l]=(0,n.useState)(!0);return((0,n.useEffect)(()=>((async()=>{try{let t=await fetch("".concat("http://localhost/AF3M-Backend","/getArticles_locally.php")),s=(await t.json()).reduce((t,e)=>{let s=e.annee;return t[s]=(t[s]||0)+1,t},{}),a=Object.keys(s).sort(),n=a.map(t=>s[t]);e({labels:a,datasets:[{label:"Articles Published",data:n,borderColor:"#4b6cc0",backgroundColor:"rgba(75,192,192,0.2)",fill:!0}]})}catch(t){console.error("Error fetching articles:",t)}finally{l(!1)}})(),()=>{window.Chart&&window.Chart.instances&&window.Chart.instances.forEach(t=>{t.destroy()})}),[]),s)?(0,a.jsx)("p",{children:"Loading..."}):(0,a.jsx)("div",{style:{width:"100%",height:"400px"},children:(0,a.jsx)(c.N1,{data:t})})};var o=s(9965),i=s.n(o);let h=t=>{let{icon:e,title:s,count:n}=t;return(0,a.jsxs)("section",{className:"flex justify-between border-4 mx-4 h-32 w-52 bg-gray-200 rounded-lg hover:scale-105 hover:bg-blue-400 hover:shadow-lg duration-500",children:[(0,a.jsx)(i(),{height:64,width:64,className:"w-16 h-16 my-7 ml-2",src:e,alt:"".concat(s,"-icon")}),(0,a.jsxs)("span",{className:"my-auto",children:[(0,a.jsx)("p",{className:"text-center font-bold text-xl",children:null!==n?n:"Loading..."}),(0,a.jsx)("h3",{className:"text-center mr-2",children:s})]})]})},u=function(){let[t,e]=(0,n.useState)(null),[s,c]=(0,n.useState)(null),[l,o]=(0,n.useState)(null),[i,u]=(0,n.useState)(null);return(0,n.useEffect)(()=>{let t=async(t,e)=>{try{let s=await fetch("".concat("http://localhost/AF3M-Backend","/").concat(t)),a=await s.json();e(a.article_count||a.actualite_count||0)}catch(e){console.error("Error fetching ".concat(t,":"),e)}};t("getArticles_Count.php",e),t("getAuthors_Count.php",o),t("getActualites_Count.php",c),t("getThemes_Count.php",u)},[]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"lg:flex items-center justify-center mt-14 gap-20 ml-10",children:[(0,a.jsx)(h,{icon:"/article.png",title:"Articles",count:t}),(0,a.jsx)(h,{icon:"/editor.png",title:"Authors",count:l}),(0,a.jsx)(h,{icon:"/world-news.png",title:"Actualites",count:s}),(0,a.jsx)(h,{icon:"/team.png",title:"Themes",count:i})]}),(0,a.jsx)("div",{className:"mt-10 ml-48",children:(0,a.jsx)(r,{})})]})}}},t=>{var e=e=>t(t.s=e);t.O(0,[201,888,636,593,792],()=>e(3830)),_N_E=t.O()}]);