(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[878],{7714:(e,t,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin_pages/modifierActualite",function(){return s(8076)}])},8076:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d});var l=s(4848),a=s(6456),c=s(6887),i=s(6540),r=s(2014);function d(){let e=(0,i.useContext)(a.s),[t,s]=(0,i.useState)([]),[d,n]=(0,i.useState)(!0),[o,u]=(0,i.useState)(null),[m,h]=(0,i.useState)(""),[x,p]=(0,i.useState)(null),b=e=>{p(x===e?null:e)};(0,i.useEffect)(()=>{(0,r.K)(s,n,u)},[]);let w=async e=>{try{let t=await fetch("".concat("http://localhost/AF3M-Backend","/deleteActualite.php?id=").concat(e),{method:"DELETE"});(await t.json()).success?(h("Actualit\xe9 supprim\xe9e avec succ\xe8s !"),(0,r.K)()):h("Erreur: Impossible de supprimer l'actualit\xe9.")}catch(e){h("Erreur: "+e.message)}};return d?(0,l.jsx)("div",{className:"ml-20",children:(0,l.jsx)(c.A,{})}):o?(0,l.jsxs)("div",{className:"text-center text-red-600 py-10",children:["Error: ",o]}):(0,l.jsxs)("div",{className:"container mx-auto px-4 py-10",children:[(0,l.jsx)("h1",{className:"text-3xl font-bold text-center mb-8",children:"fr"===e?"Toutes les actualit\xe9s":"All the News"}),(0,l.jsx)("div",{className:"flex justify-between mb-4 ml-4",children:(0,l.jsx)("button",{"aria-label":"Add News",onClick:()=>window.location.href="/admin_pages/ajouterActualite",className:"px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-700",children:"fr"===e?"Ajouter Actualit\xe9":"Add News"})}),m&&(0,l.jsx)("div",{className:"mb-4 p-2 text-center text-white bg-green-500 rounded",children:m}),(0,l.jsx)("div",{className:"space-y-6",children:t.map(e=>(0,l.jsxs)("div",{className:"flex flex-col sm:flex-row items-center bg-white shadow-lg rounded-lg p-4",children:[e.image_url&&(0,l.jsx)("img",{src:"".concat("http://localhost/AF3M-Backend","/").concat(e.image_url),alt:"News",className:"w-full lg:w-40 h-32 object-cover rounded mb-4 sm:mb-0 sm:mr-4"}),(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("h2",{className:"text-xl font-semibold",children:e.title_fr}),(0,l.jsx)("p",{className:"text-gray-700 mt-2 sm:block ".concat(x===e.id?"block":"hidden"),children:e.description_fr}),(0,l.jsx)("button",{"aria-label":"Toggle Description",onClick:()=>b(e.id),className:"mt-2 text-blue-500 sm:hidden",children:x===e.id?"▲ Hide":"▼ Read More"}),"        "]}),(0,l.jsx)("button",{"aria-label":"Delete News",onClick:()=>w(e.id),className:"mt-4 sm:mt-0 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Delete"})]},e.id))})]})}},2014:(e,t,s)=>{"use strict";s.d(t,{K:()=>a});var l=s(4335);let a=async(e,t,s)=>{try{let t=(await l.A.get("".concat("http://localhost/AF3M-Backend","/getActualite.php"))).data;e(t)}catch(e){s(e.message)}finally{t(!1)}}}},e=>{var t=t=>e(e.s=t);e.O(0,[335,636,593,792],()=>t(7714)),_N_E=e.O()}]);