(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[14],{3074:(e,t,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin_pages/modifierThemes",function(){return s(5058)}])},5058:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o});var l=s(4848),a=s(6540),r=s(6887),c=s(4335),n=s(9279);let d=(0,n.A)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);var h=s(4668);let m=(0,n.A)("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);var i=s(6456);let o=function(){let{language:e}=(0,a.useContext)(i.s),[t,s]=(0,a.useState)([]),[n,o]=(0,a.useState)(null),[x,u]=(0,a.useState)(""),[p,b]=(0,a.useState)({text:"",type:""}),[g,f]=(0,a.useState)(!0),[N,j]=(0,a.useState)(null);(0,a.useEffect)(()=>{y()},[]);let y=async()=>{let e="".concat("http://localhost/AF3M-Backend","/Themes/getAllTheme.php");console.log("Fetching from URL:",e);try{let t=await fetch(e),l=await t.json();s(l),f(!1)}catch(e){f(!1),j("Failed to fetch themes"),console.error("Error fetching themes:",e)}},w=async e=>{try{await c.A.put("".concat("http://localhost/AF3M-Backend","/Themes/EditTheme.php"),{themeID:e,themeName:x}),s(t.map(t=>t.themeID===e?{...t,themeName:x}:t)),o(null),u(""),b({text:"Theme modified Successfully",type:"success"})}catch(e){var l;b({text:"Failed to delete the user",type:"error"}),console.error("Error updating theme:",(null===(l=e.response)||void 0===l?void 0:l.data)||e.message)}},v=(e,t)=>{o(e),u(t)},k=()=>{o(null),u("")};return g?(0,l.jsx)("div",{className:"ml-20",children:(0,l.jsx)(r.A,{})}):N?(0,l.jsxs)("div",{className:"text-center text-red-600 py-10",children:["Error: ",N]}):(0,l.jsxs)("div",{className:"max-w-4xl mx-32 p-6 bg-white  rounded-lg",children:[p.text&&(0,l.jsx)("div",{className:"fixed top-0 left-0 w-full py-2 text-center text-white ".concat("success"===p.type?"bg-green-500":"bg-red-500"),children:p.text}),(0,l.jsx)("h1",{className:"text-3xl font-bold text-center mb-8",children:"fr"===e?"Tous les themes d'articles":"All the article themes"}),(0,l.jsx)("button",{"aria-label":"Add News",onClick:()=>window.location.href="/admin_pages/ajouterTheme",className:"px-6 mb-2 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-700",children:"Ajouter theme"}),(0,l.jsx)("div",{className:"overflow-x-auto",children:(0,l.jsxs)("table",{className:"min-w-full table-fixed border border-gray-200 rounded-lg",children:[(0,l.jsx)("thead",{className:"bg-black",children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{className:"w-1/6 px-4 py-3 text-left text-white font-medium border-b",children:"ID"}),(0,l.jsx)("th",{className:"w-3/6 px-4 py-3 text-left text-white font-medium border-b",children:"Nom du Th\xe8me"}),(0,l.jsx)("th",{className:"w-2/6 px-4 py-3 text-center text-white font-medium border-b ",children:"Action"})]})}),(0,l.jsx)("tbody",{children:t.map(e=>(0,l.jsxs)("tr",{className:"border-b hover:bg-gray-50",children:[(0,l.jsx)("td",{className:"px-4 py-3",children:e.themeID}),(0,l.jsx)("td",{className:"px-4 py-3",children:n===e.themeID?(0,l.jsx)("input",{type:"text",className:"border rounded-lg px-3 py-2 w-full",value:x,onChange:e=>u(e.target.value)}):(0,l.jsx)("span",{className:"text-gray-700",children:e.themeName})}),(0,l.jsx)("td",{className:"px-4 py-3 flex space-x-2",children:n===e.themeID?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("button",{onClick:()=>w(e.themeID),className:"bg-green-500 text-white px-3 py-2 rounded-lg hover:bg-green-600 flex items-center",children:[(0,l.jsx)(d,{size:18,className:"mr-1"})," Save"]}),(0,l.jsxs)("button",{onClick:k,className:"bg-red-500 text-white px-3 py-2 rounded-lg hover:bg-red-600 flex items-center",children:[(0,l.jsx)(h.A,{size:18,className:"mr-1"})," Cancel"]})]}):(0,l.jsxs)("button",{onClick:()=>v(e.themeID,e.themeName),className:"bg-blue-500 ml-20 text-white px-3 py-2 rounded-lg hover:bg-blue-600 flex items-center",children:[(0,l.jsx)(m,{size:18,className:"mr-1"})," Modifier"]})})]},e.themeID))})]})})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[335,636,593,792],()=>t(3074)),_N_E=e.O()}]);